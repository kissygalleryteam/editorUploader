<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>editorUploader</title>
    <link rel="stylesheet" href="http://cdn.staticfile.org/twitter-bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://docs.kissyui.com/1.4/source/guideline/templates/assets/com-prettify.css">
    <link rel="stylesheet" href="http://docs.kissyui.com/1.4/source/guideline/templates/assets/com.css">
    <script src="http://cdn.staticfile.org/jquery/2.1.1-rc2/jquery.min.js"></script>
    <script src="http://cdn.staticfile.org/twitter-bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="http://cdn.staticfile.org/prettify/r298/prettify.min.js"></script>
    <script src="http://g.tbcdn.cn/kissy/k/1.4.8/seed-min.js" data-config="{combine:true}"></script>
  </head>
  <body data-spy="scroll" data-target=".bs-docs-sidebar">
    <div id="header"><a href="http://docs.kissyui.com/" class="logo">kissy</a>
      <nav><a href="http://docs.kissyui.com/1.4/docs/html/coms.html">优秀组件推荐</a></nav>
    </div>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3 bs-docs-sidebar">
          <ul data-spy="affix" data-offset-top="0" class="nav nav-list bs-docs-sidenav"></ul>
        </div>
        <div class="span9 bs-docs-content">
          <h1 data-id="undefined" class="title">editorUploader</h1>
          <p class="author-wrapper"><span>组件有问题？旺旺联系作者：</span><a href="https://github.com/minghe" target="_blank" data-name="剑平" class="author"><img src="https://avatars.githubusercontent.com/u/724588?v=3&amp;s=60" alt="剑平"></a><span class="author-name">剑平</span>
          </p>
          <div class="common-link"><a href="../demo/index.html" target="_blank" class="demo">示例</a><a href="https://github.com/kissygalleryteam/editorUploader" target="_blank" class="source">源码</a></div>
          <p class="com-info"><span class="info-label">View</span><span data-com="editorUploader" class="J_View">1093</span></p>
          <p class="com-info"><span class="info-label">所属分类</span><a href="http://kpm.taobao.net/list/表单">表单</a>
          </p>
          <p class="com-info"><span class="info-label">kissy版本</span><span>1.4.X</span>
          </p><h2 id="-">综述</h2>
<p>kissy editor的图片上传由于是使用flash上传，很有可能会出现session丢失的bug，所以写了这个插件用于替换editor的上传插件。</p>
<p>v1.4基于kissy1.4，使用<a href="http://gallery.kissyui.com/uploader/1.5/guide/index.html">uploader1.5</a>。</p>
<p>demo请看<a href="http://sell.2.taobao.com/publish/editorUploader.htm">http://sell.2.taobao.com/publish/editorUploader.htm</a>（请使用淘宝账号登陆）。</p>
<h2 id="-">使用说明</h2>
<h3 id="html-">html结构</h3>
<div id="editorContainer"> </div>

<p>editorContainer为editor使用的容器。</p>
<h3 id="-editor">初始化editor</h3>
<pre><code>KISSY.use(&quot;editor&quot;, function (S, Editor) {
    var cfg = {
        // 是否初始聚焦
        focused:true,
        attachForm:true,
        render:&#39;#editorContainer&#39;,
        width:&#39;80%&#39;,
        height:&quot;400px&quot;
    };
    KISSY.use(&quot;editor/plugin/source-area,&quot; +
            &quot;editor/plugin/font-size,&quot; +
            &quot;editor/plugin/code,&quot;+
            &quot;kg/editoruploader/2.0.3/index&quot;, function (S, SourceArea, FontSize,Code,EditorUploader) {
        //初始化上传插件
        var editorUploader = new EditorUploader({
            prefix:&#39;demo-&#39;,
            multiple:true,
            autoUpload:false,
            auth:{
                //最多上传个数
                max:15,
                //图片最大允许大小
                maxSize:1024
            },
            listeners:{
                add:function(ev){
                    S.log(ev.file);
                }
            }
        });
        cfg.plugins = [SourceArea, FontSize,Code,editorUploader];

        new Editor(cfg).render();
    });

});
</code></pre><p>use kg/editoruploader/2.0.3/index插件，EditorUploader的配置请看Uploader组件。prefix是插件特有的，用于给目标元素钩子打上特殊的前缀。</p>
<p>其他都是editor的配置。</p>

          <div style="display:none;"><script type="text/javascript" src="http://tajs.qq.com/stats?sId=36378479" charset="UTF-8"></script></div>
          <script src="http://docs.kissyui.com/1.4/source/guideline/templates/assets/com.js"></script>
        </div>
      </div>
    </div>
  </body>
</html>